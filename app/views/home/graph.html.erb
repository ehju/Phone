<!DOCTYPE HTML>
<html>

<head>

	<script type="text/javascript">
	window.onload = function () {
		var chart = new CanvasJS.Chart("chartContainer",
		{
			title:{
				text: "추천 요금제 목록",      
				fontFamily: "arial black",
				fontColor: "DarkSlateGrey"
			},
                        animationEnabled: true,
			axisX: {
				title:"통화량",
				titleFontFamily: "arial",
				gridThickness: 1,
				minimum: -10
				

			},
			axisY:{
				valueFormatString:"0 GB",
				titleFontSize: 1,
				interval: 1
			},

			data: [
			{        
				type: "scatter",  
				toolTipContent: "<span style='\"'color: {color};'\"'><strong>{name}</strong></span> <br/> <strong>데이터</strong> {toold}<br/> <strong>음성</strong> {toolv}",
				markerSize: 50,
				dataPoints: [
				  
				<% @selected.each do |z| %>
                { x: <%=z.voice%>, y: <%=z.webdata%>, name: "<%=z.name%>", toolv: "<%=z.toolv%>", toold: "<%=z.toold%>" },
                <% end %>
        

				
				]
			}
			]
		});

chart.render();
}
</script>
<script type="text/javascript" src="/canvasjs.min.js"></script>
</head>
<body>
	<center>
	<div id="chartContainer" style="height: 600px; width: 70%;">
	</div>

<br><br>
<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-10">
<table class="table table-striped">
    <% @selected.each do |x| %>

    <tr>
        <td><%= x.series %></td>
        <td><%= x.name %></td>
        <td><%= x.price24 %>원</td>
        <td><%= x.voice %>분</td>
        <td><%= x.webdata %>GB</td>
        <td>
        <% if x.letter == -1%>
        <% @letter = "무제한"%>
        <% else %>
        <% @letter = x.letter %>
        <%= @letter %>회
        <% end %>
        </td>
        <td><a href="<%= x.etc %>"><%= x.etc %></a></td>
    </tr>
    <% end %>
</table>
	</div>
	<div class="col-md-1"></div>
</div>
</center>
<p>선택된 요금제는 총 <%=@selected.count%>개 입니다.  </p>
<a href="/home/result">결과보러 가기</a>

</body>
</html>